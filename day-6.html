<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Geekwise Javascript 1</title>
    <link rel="stylesheet" href="static/css/reset.css">
    <link rel="stylesheet" href="static/css/prism.css">
    <link rel="stylesheet" href="static/js/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="static/css/style.css">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,400,300,600,700' rel='stylesheet'
          type='text/css'>
</head>
<body class="theme">
<header id="nav">
</header>

<div class="container content">
    <h1 class="row text-center hdr">
        Day 6
    </h1>

    <div class="row">
        <div class="col-md-3">
            <h2 class="text-right">Concepts</h2>
        </div>
        <div class="col-md-9 concepts">
            <ul>
                <li>Skill Builder</li>
                <li>Prototype</li>
                <li>Objects - Classes and Instances</li>
                <li>Using 'Strict Mode'</li>
                <li>Putting it all together</li>
                <li>Take home assignment</li>
            </ul>
        </div>
    </div>

    <div class="row">
        <div class="col-md-10 col-md-offset-1">
            <h2 id="skillBuilder" class="text-center sub">Test your knowledge</h2>

            <form class="skill-builder-test">
                <h3>Which of the following is the correct notation for creating an object</h3>
                <input type="radio" name="testVariables" value="a"/> <strong>A:</strong> var object = {..} <br>
                <input type="radio" name="testVariables" value="b"/> <strong>B:</strong> var object = [...] <br>
                <input type="radio" name="testVariables" value="c"/> <strong>C:</strong> var object = '...' <br>

                <h3>When can the <code>this</code> keyword be used</h3>
                <input type="radio" name="testDatatypes" value="a"/> <strong>A:</strong> when referencing an object from the global scope <br>
                <input type="radio" name="testDatatypes" value="b"/> <strong>B:</strong> when referencing an object key from within the object's scope <br>
                <input type="radio" name="testDatatypes" value="c"/> <strong>C:</strong> when referencing the object from within it's scope <br>

                <h3>Which of these would you likely see in a Json file</h3>
                <input type="radio" name="testTruthy" value="a"/> <strong>A:</strong> <code> 'username':'my name' </code> <br>
                <input type="radio" name="testTruthy" value="b"/> <strong>B:</strong> <code>"username":"my name"</code><br>
                <input type="radio" name="testTruthy" value="c"/> <strong>C:</strong> <code> 'username':this.username</code><br>

            </form>
        </div>
    </div>


    <div class="row">
        <div class="col-md-3">
            <h2 class="text-right">Skill Builder</h2>
        </div>
        <div class="col-md-9">
            <div class="point">
                Let's create a login using an object to verify the user's information.
                <ul class="list">
                    <li>Create a simple HTML page with 2 buttons: 1 called create account and another called login.</li>
                    <li>in your js file create an object called user that will have keys for a username and password.</li>
                    <li>Create a function for creating a new user. This should prompt the user for a username and password
                        and then set values of the object to their respective keys. This function should be called when
                        the create account button is clicked.
                    </li>
                    <li>Create a second function that is called when the login button is clicked. This function should
                        prompt the user for their username and password and then check to see if it matches the ones
                        stored in the object.
                    </li>
                    <li>Finally, if the login function returns true either alert the user that they match or, if you're
                        feeling really productive, redirect the user to a second html page.</li>
                </ul>

            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-10 col-md-offset-1">
            <h2 class="text-center sub">Prototype</h2>

            <div class="point">
                First, before we get into prototype, let's talk about why we would need to use it and what problems does it
                solve?
            </div>

            <div class="point">
                Most programming languages provide a "class" system, that allow for grouping together common
                functionality.
            </div>

            <div class="point">
                You can also <code>extend</code> classes to add additional behavior for something more specific. This is
                known as "inheritance".
            </div>

            <div class="point">
                For instance, lets say you are building a time scheduling app. You may break down your code into
                "objects" like Person, Worker, and Developer. In this case, a Developer would be the most specific case,
                and would inherit properties from Worker, and Worker would inherit properties from Person.

                <ul class="list">
                    <li>
                        Person
                        <ul class="list">
                            <li>Name</li>
                            <li>Age</li>
                        </ul>
                    </li>
                    <li>Worker
                        <ul class="list">
                            <li>Company</li>
                            <li>Hours</li>
                        </ul>
                    </li>
                    <li>
                        Developer
                        <ul class="list">
                            <li>Title</li>
                            <li>Compensation</li>
                        </ul>
                    </li>
                </ul>
            </div>

            <div class="point">
                In javascript the prototype is how we can accomplish some structure like the above.
            </div>

            <div class="point">
                Javascript is a "classless" language. Instead it allows for prototypical inheritance.
            </div>

            <div class="point">
                This means that you create a "prototype" of your objects properties and functionality and then make new
                instances of those things.
            </div>

            <h3><code>prototype</code> syntax</h3>

            <div class="point">
                Lets look at an example of a prototype in javascript.
            </div>

<pre>
    <code class="language-javascript">
        function Person(name, age) {
        this.name = name;
        this.age = age;
        }

        Person.prototype.greet = function () {
        console.log("Hello, my name is " + this.name);
        }
    </code>
</pre>

            <div class="point">
                So this creates a Person function, and adds to it a greet function to it's prototype. We're letting
                javascript
                understand what a "Person" is. We haven't done anything with it yet, just simply defining inside our
                program
                what is it to be a "Person".
            </div>

            <h3>It's all objects</h3>

            <div class="point">
                Notice how we are adding the greet function. What does that look like? Looks like object syntax, right?
                In
                javascript, everything is an object, including functions. Each data type is handled differently by
                javascript, but they are indeed objects. That's why <code>"foo".length</code> works or
                <code>[1, 2, 3].length</code> works.
            </div>

            <div class="point">
                So lets try and call our greet function.
            </div>

<pre>
    <code class="language-javascript">
        Person.greet();
    </code>
</pre>

            <div class="point">Odd, maybe we need to call it on our prototype object...</div>

<pre>
    <code class="language-javascript">
        Person.prototype.greet();
    </code>
</pre>

            <div class="point">
                Progress! We are able to get a log to the console, but the <code>this.name</code> property is undefined.
            </div>

            <div class="point">
                The problem here is that while we've defined what a person object / function is, we've yet to actually
                create a new "instance" of one.
            </div>

            <h3>The <code>new</code> keyword</h3>

            <div class="point">
                One important concept to understand is that functions can be used in two different ways.
            </div>

            <div class="point">
                The first way is by simply calling the function as we have been.
            </div>

<pre>
    <code class="language-javascript">
        function Person(name, age) {
        this.name = name;
        this.age = age;
        }

        Person.prototype.greet = function () {
        console.log("Hello, my name is " + this.name);
        }

        var person = Person("greg", 45);
        console.log(person);
    </code>
</pre>

            <div class="point">
                We are simply invoking the function. There will always be a default return value from this function
                regardless
                of if we store that value or not.
            </div>

            <div class="point">
                If no <code>return</code> value exists, then the return value is <code>undefined</code>.
            </div>

            <div class="point">
                We can also invoke a function using the <code>new</code> keyword. Lets look at that.
            </div>

<pre>
    <code class="language-javascript">
        function Person(name, age) {
        this.name = name;
        this.age = age;
        }

        Person.prototype.greet = function () {
        console.log("Hello, my name is " + this.name);
        }

        var person = new Person("greg", 35);
        console.log(person);
    </code>
</pre>

            <div class="point">
                More progress! Now we can see that the <code>person</code> variable we've created is an object, that has
                a
                <code>name</code>, <code>age</code>, and <code>greet</code> function. So what exactly is that new
                keyword
                doing for us under the hood?

                <ul class="list">
                    <li>Creates a new empty object.</li>
                    <li>It executes the "constructor" function using the new empty object as the context.</li>
                    <li>Returns the "this" from the constructor, which is now equal to the empty object plus whatever
                        properties
                        were added during the run of the constructor function.
                    </li>
                </ul>
            </div>

            <div class="point">
                A <strong>constructor</strong> function is simply what we call a function when calling it with the
                <code>new</code>
                keyword.
            </div>

            <div class="point">
                So now, we can probably get at that greet function...
            </div>

<pre>
    <code class="language-javascript">
        person.greet();
    </code>
</pre>

            <div class="point">
                So lets look at why that works. First we define the person, and all the things that a person can do via
                it's
                prototype. Then we create a new instance of a person. Visualize this like baking a cake. The recipe for
                baking
                a cake is it's prototype, but it's not until you combine the ingredients and bake it that you have an
                actual
                instance of a cake. So using the <code>new</code> keyword is how we create that instance.
            </div>

            <div class="point">
                So, why use a constructor function with a prototype over simple objects or stand alone functions...?
            </div>

            <div class="point">
                Well, when you create a new instance of something, all the properties are wiped clean and reset on that
                new
                instance. So it becomes pretty handy to now reuse this code throughout your application as needed.
            </div>

            <h3>Friends List revisited</h3>

            <div class="point">
                For our take home assignment, you wrote a function that took some arguments (friend's name and id)
                and it
                returned a simple object. Lets refactor that function so that it actually acts as a constructor function
                and we'll add some nice behavior to it's prototype.
            </div>

            <div class="point">
                Lets start by analyzing how constructor functions work again. If we look at our Person function, it
                looks like
                they simply set some properties. They quite literally "construct" the instance. So lets set up our
                friends object
                function that way.
            </div>

<pre>
    <code class="language-javascript">
        function Friend(firstName, lastName, age) {
            this.firstName = firstName;
            this.lastName = lastName;
            this.age = age;
        }
    </code>
</pre>

            <div class="point">
                Notice, constructor functions don't return anything. That's because the <code>new</code> keyword handles
                that for us. If you plan on using a function as a constructor, don't return anything.
            </div>

            <div class="point">
                Another style convention that is widely recognized is that constructor functions use Capitalized names.
                <code>Friend</code> in this case.
            </div>

            <div class="point">
                This is sufficient to create a friend constructor. Now lets say, that we always want to make sure that
                the friend's
                first name is capitalized. Lets add a capitalize function to this function prototype that will do just
                that...
            </div>

<pre>
    <code class="language-javascript">
        Friend.prototype.capitalizedName = function capitalizedName() {
        return this.firstName[0].toUpperCase() + this.firstName.slice(1);
        return this.lastName[0].toUpperCase() + this.lastName.slice(1);
        };
    </code>
</pre>

            <div class="point">
                Notice, this function, that's part of <code>Friend</code>'s prototype, also has access to all the
                properties
                that the constructor created.
            </div>

            <div class="point">
                Finally, lets actually create an instance of a "Friend" object, and use that capitalizedName function.
            </div>

<pre>
    <code class="language-javascript">
        var friend = new Friend("tim", 'smith', 27);
        console.log(friend.capitalizedName());
    </code>
</pre>

        </div>

        <div class="row">
            <div class="col-md-10 col-md-offset-1">
                <h2 class="text-center sub">Using 'Strict Mode'</h2>
                What is strict mode? Let's test it out. In your editor add the following code:
                <code>
                    foo = bar;
                </code>

                Notice that you should not be receiving any errors.
                Now add <code>'use strict';</code> above your variable like so:
<pre>
    <code class="language-javascript">
        'use strict';
        foo = bar;
    </code>
</pre>
                Notice anything? If you entered it correctly you should be receiving an unresolved variable error.
                This is because <code>'strict mode';</code> catches silent errors, or errors that don't necessarily break your code, but
                can cause unwanted results, especially when dealing with different browsers. Note, however, that not all
                browsers support strict mode. It also flags mistakes as errors, making it sometimes easier to debug code.

                'strict mode'; can be used on strings and functions, and much like variables 'strict mode' will be
                limited to the scope it's applied to, so if you add it inside a function it will not affect code outside
                of the functions scope.

                More on 'strict mode'; can be found here:
                <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode">Linky</a>
            </div>
        </div>

        <div class="row">
            <div class="col-md-10 col-md-offset-1">
                <h2 class="text-center sub">Putting it all together</h2>
                <div class="point">
                    So now we understand that <strong>everything in javascript is an object</strong>. We understand how
                    we
                    can create single objects, and how we can use constructor functions to create new instances of the
                    same
                    object.
                </div>

                <div class="point">
                    Lets practice this a bit. At the beginning of the day we created a object that stores a username and
                    paassword and then verified the user input against those values. Let's change this so that it uses prototypes and constructors.
                    Start by setting up a folder with an index.html file, a js folder, and inside the js folder a js file.
                    Once those are created and your basic index.html information and js file is linked copy this code in
                    between your opening and closing body tags:


<pre>
        &lt;input type="text" name="name" id="uname" value="username" /&gt;
        &lt;input type="text" name="pword" id="pword" value="password" /&gt;
        &lt;button onclick="create()">Create&lt;/button&gt;&lt;br&gt;

        &lt;input type="text" name="name" id="uName" value="username" /&gt;
        &lt;input type="text" name="pword" id="pWord" value="password" /&gt;
        &lt;button onclick="login()"&gt;Login&lt;/button&gt;
</pre>
                    Now on to the javascript:

                    <ul class="list">
                        <li>
                           Start by creating an object class called User that will have the keys username and password.
                           Don't forget to use proper syntax when writing out your object class name.
                        </li>
                        <li>Next, create a function called create. It won't take any arguments. Inside this function could
                            take the values of the two input fields on your html page and set these to variables. You can
                            do this by using <code>document.getElementById("idName").value;</code>. This is what's called
                            DOM manipulation and we will be going over it in much greater depth later, but for now
                            understand that it's checking the web page (the document), finding an element with the id of
                            whatever is put in the (''), and then returning the value of that element.
                        </li>
                        <li>After setting these variables your create function should create a <code>new</code> instance
                            of the User prototype. Be sure you pass in the values of your variables so that you save the
                            new users username and password.
                        </li>
                        <li>You can add a console.log() to your function if you want to check that your new object is
                            storing information correctly, but the final thing your function should do is return the
                            variable your new user is assigned to</li>
                        <li>Now that we have a new instance of the user object we should use it. Start by creating a login function.
                            Once again your function should be checking the values of the input fields next to the login button.
                        </li>
                        <li>After retrieving these values compare them to the values stored in your object keys.
                            IMPORTANT! Remember, you are not checking the values of your object prototype, but rather
                            the values of the object instance you created.
                        </li>
                        <li>If they match have an alert pop up with the message of your choice, else have an alert pop
                            up that says try again.</li>

                    </ul>

                    Hint: The variable that stores your new object instance will be a local variable, thus returning it.
                    to use it in your login function you'll have to pass it in.

                </div>
            </div>
        </div>


        <div class="row">
            <div class="col-md-3">
                <h2 class="text-right">Take Home Assignment</h2>
            </div>
            <div class="col-md-9">
                <div class="point">
                    Take home will be published on March 5th the day after Day 6.
                </div>
            </div>
        </div>

        <!-- closing the main container -->
    </div>
</div>
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script type="text/javascript" src="./static/js/prism.js"></script>
<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="./static/js/nav.js"></script>
<script type="text/javascript">
    function geekwiseClass() {
        console.log("Congrats, you found a global function");
    }
</script>
</body>
</html>
